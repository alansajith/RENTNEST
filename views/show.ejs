<% layout("/Layouts/boilerplate")%>

<div class="row mt-3">
  <div class="col-8 offset-0">
    <h5 class="h5-show"><%=details.title%></h5>
  </div>
  <div class="card-show col-6 offset-0">
    <img
      src="<%=details.image%>"
      class="card-img-top show-img"
      alt="details_image"
    />
    <div class="card-body">
      <h5 class="card-title" style="font-size: medium"></h5>
      <br />
      <div class="text" style="font-size: small">
        <p><b><%= details.description %></b><br /></p>
        <p>
          &#8377;<b><%=details.price%></b>/night, <%=details.location%><br />
          <%=details.country%>
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-2">
        <form method="get" action="/listings/<%=details._id%>/edit">
          <button class="btn btn-dark">Edit</button>
        </form>
      </div>
      <div class="col-3">
        <form method="post" action="/listings/<%=details._id%>?_method=DELETE">
          <button class="btn" style="background-color: red; color: white">
            Delete
          </button>
        </form>
      </div>
    </div>
    <hr />
    <div>
      <h6>Leave a Review</h6>
      <form class="mt-3 mb-3 col-6">
        <div style="font-size: small">
          <label for="rating" class="form-label">Rating</label>
          <input
            type="range"
            min="1"
            max="5"
            id="rating"
            name="review[rating]"
          />
        </div>
        <div class="mb-3" style="font-size: small">
          <label for="comment" class="form-label">Comments</label>
          <textarea
            id="comment"
            name="review[comment]"
            class="form-control"
            placeholder="How did your stay go??"
          ></textarea>
        </div>
        <button class="btn btn-outline-dark">Submit</button>
      </form>
      <hr />
      <div class="offset-0"><h6>Where you will be?</h6></div>
      <div class="mb-3 offset-0">
        <div id="map"></div>
      </div>
    </div>
  </div>
</div>

<script>
  mapboxgl.accessToken =
    "pk.eyJ1IjoidGV0aGFsYW4iLCJhIjoiY20wMGs5MGRxMWdrYjJqcjc3bXJyb25zdiJ9.c9N8kUENAaF0A_Sg6EPCEQ";
  const map = new mapboxgl.Map({
    container: "map", // container ID
    center: [-74.5, 40], // starting position [lng, lat]. Note that lat must be set between -90 and 90
    zoom: 9, // starting zoom
  });
</script>
